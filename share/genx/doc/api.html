<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
    <title>Reference</title>
    <link rel="stylesheet" href="luadoc.css" type="text/css" />
	<!--meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/-->
</head>

<body>
<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->

<div id="main">

<div id="content" style="margin-left: 2em;">

<h1>Module <code>genx</code></h1>

<p>A safe XML generation library. Genx is a C library by Tim Bray for generating well-formed XML. This is a simple Lua binding.</p>





<h2>Functions</h2>
<table class="function_list">

	<tr>
	<td class="name" nowrap><a href="#document:attribute">document:attribute</a>&nbsp;(key, value)</td>
	<td class="summary">Add an attribute to the currently open tag.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#document:close">document:close</a>&nbsp;()</td>
	<td class="summary">Finish the document.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#document:comment">document:comment</a>&nbsp;(text)</td>
	<td class="summary">Add a comment to the XML document.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#document:endElement">document:endElement</a>&nbsp;()</td>
	<td class="summary">Close an element tag.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#document:startElement">document:startElement</a>&nbsp;(name)</td>
	<td class="summary">Open a new element.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#document:text">document:text</a>&nbsp;(text)</td>
	<td class="summary">Add text to the document.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#new">new</a>&nbsp;(file, send, flush)</td>
	<td class="summary">Create a new XML document.</td>
	</tr>

</table>






<br/>
<br/>



<h2><a name="functions"></a>Functions</h2>
<dl class="function">



<dt><a name="document:attribute"></a><strong>document:attribute</strong>&nbsp;(key, value)</dt>
<dd>
Add an attribute to the currently open tag.


<h3>Parameters</h3>
<ul>
	
	<li>
	  key: The name of the attribute to add.
	</li>
	
	<li>
	  value: The value of the new attribute.
	</li>
	
</ul>








</dd>




<dt><a name="document:close"></a><strong>document:close</strong>&nbsp;()</dt>
<dd>
Finish the document. Finishes writing the document and calls the flush function, if available. Invoked automatically by garbage collection. Has no effect if the document has already been closed.









</dd>




<dt><a name="document:comment"></a><strong>document:comment</strong>&nbsp;(text)</dt>
<dd>
Add a comment to the XML document.


<h3>Parameters</h3>
<ul>
	
	<li>
	  text: The comment to add. Should not contain "--".
	</li>
	
</ul>








</dd>




<dt><a name="document:endElement"></a><strong>document:endElement</strong>&nbsp;()</dt>
<dd>
Close an element tag. Closes the most recent open element tag.









</dd>




<dt><a name="document:startElement"></a><strong>document:startElement</strong>&nbsp;(name)</dt>
<dd>
Open a new element.


<h3>Parameters</h3>
<ul>
	
	<li>
	  name: The "tag name" of the element to open.
	</li>
	
</ul>








</dd>




<dt><a name="document:text"></a><strong>document:text</strong>&nbsp;(text)</dt>
<dd>
Add text to the document.


<h3>Parameters</h3>
<ul>
	
	<li>
	  text: The string to add.
	</li>
	
</ul>








</dd>




<dt><a name="new"></a><strong>new</strong>&nbsp;(file, send, flush)</dt>
<dd>
Create a new XML document. There are two ways to create an XML document. First, genx.new(file) creates a document that writes its contents to a file. Alternatively, genx.new(send[, flush]) creates a document that calls functions to output XML. The "send" function is mandatory while "flush" is optional.


<h3>Parameters</h3>
<ul>
	
	<li>
	  file: An open, writable file object.
	</li>
	
	<li>
	  send: A callback function invoked whenever new text is available. Should take a single string argument.
	</li>
	
	<li>
	  flush: A callback function invoked to flush any buffers and finish a document. Should take no parameters. Optional.
	</li>
	
</ul>






<h3>Return value:</h3>
A document object.



</dd>


</dl>






</div> <!-- id="content" -->

</div> <!-- id="main" -->

</div> <!-- id="container" -->	
</body>
</html>
